@import '_base';
@import '_fonts';

@display: Ivymode, system-ui;
@text: atto, system-ui;
@black: #171a27;
@mid-grey: #535663;

// Typography

.fz-fluid,
h1,
h2,
h3 {
  --fluid-type-min-size: 1;
  --fluid-type-max-size: 2;
  --fluid-type-min-screen: 20;
  --fluid-type-max-screen: 88;

  /* We multiply by 1rem to essentially stick a rem unit to a number. */
  font-size: calc(
    (var(--fluid-type-min-size) * 1rem) +
      (var(--fluid-type-max-size) - var(--fluid-type-min-size)) *
      (100vw - (var(--fluid-type-min-screen) * 1rem)) /
      (var(--fluid-type-max-screen) - var(--fluid-type-min-screen))
  );
}

.ff-text {
  font-family: @text;
}
.ff-display {
  font-family: @display;
}

.fz-xl {
  --fluid-type-min-size: 2;
  --fluid-type-max-size: 4;

  line-height: 1.25;

  @media (min-width: 480px) {
    --fluid-type-min-size: 4;
    --fluid-type-max-size: 6;
  }
}

.fz-lg,
h1 {
  --fluid-type-min-size: 2;
  --fluid-type-max-size: 4;

  line-height: 1.25;
}

.fz-md,
h2 {
  --fluid-type-min-size: 1;
  --fluid-type-max-size: 2;
}

.fz-sm,
h3 {
  --fluid-type-min-size: 1;
  --fluid-type-max-size: 1.5;
}

.fz-normal {
  font-size: 1rem;
}

.c-mid-grey {
  color: @mid-grey;
}

.c-black {
  color: @black;
}

body {
  .c-mid-grey;
  .ff-text;
  .fz-normal;
  background: #fafafa;
}

h1,
h2,
h3 {
  font-weight: normal;
}
// layout

body {
  display: grid;
  grid-template-rows: [header] auto [content] 1fr;
  min-height: calc(100vh - var(--vh-offset, 0px));
  line-height: 1.875;
}

main {
  padding: 3.5vmin 7vmin;
}

nav {
  display: flex;
  justify-content: space-between;
  padding: 2rem 7vmin;
}

nav li {
  margin-left: 1rem;
  transition: color 0.8s ease-out;

  @media (min-width: 450px) {
    display: inline-block;
  }
}

nav li a:hover {
  color: @black;
}

nav li .disabled {
  text-decoration: line-through;
  opacity: 0.5;
  pointer-events: none;
}

header[role='banner'] {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding-bottom: 2rem;
}

.big-list {
  margin-bottom: 7vmin;
}

.big-list_item {
  border-bottom: 2px solid @mid-grey;
  padding: 1.5rem 0;

  @media (min-width: 788px) {
    display: flex;
    align-items: baseline;
    flex-wrap: wrap;
  }
}

.big-list_title {
  margin-right: auto;
}

.icon-after:after {
  --icon-after-icon: 'Â¬';
  content: var(--icon-after-icon);
  padding-left: 0.25em;
}

.big-list_meta {
  line-height: 1.875;
  @media (min-width: 788px) {
    margin-left: 2rem;
  }
}

article.project {
  display: grid;
  grid-template-columns:
    [page-start main-start]
    minmax(auto, 43em)
    [main-end]
    1fr
    [page-end];
  margin: 0;
}

article.project header {
  margin-bottom: 4rem;
}

article.project > * {
  grid-column: main-start / main-end;
}

article.project > figure {
  grid-column: main-start / page-end;
  margin: 4rem 0;
}

article.post {
  display: grid;
  grid-template-columns:
    [page-start]
    1fr
    [main-start]
    minmax(auto, 43em)
    [main-end]
    1fr
    [page-end];

  & > * {
    grid-column: main-start / main-end;
  }

  & > figure,
  & > pre {
    grid-column: page-start / page-end;
  }

  & > *:not(h1, h2, h3) {
    margin-bottom: 2em;
  }
}

article.post .post_header {
  margin-bottom: 4rem;

  & h1 {
    color: @black;
  }
}

.about {
  height: 100%;
  margin-bottom: 2rem;

  @media (min-width: 1024px) {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
}

.about figure {
  height: 100%;
  padding: 0vmin 7vmin 7vmin 0vmin;
}

.about figure img {
  width: 100%;
  max-height: 100%;
  object-fit: cover;
}

.about_content {
  transition: border 0.8s ease-out, color 0.8s ease-out;
  @media (min-width: 1024px) {
    padding: 0 7vmin;
  }

  & p {
    margin-bottom: 2rem;
  }

  & a:hover {
    border-bottom: 2px solid @black;
    color: black;
  }
}
